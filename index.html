<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>성부금속 | Sungboo Metal - 철제 구조물 제작 전문</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        :root { --primary-color: #D4AF37; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        .text-gold { color: var(--primary-color); }
        .bg-gold { background-color: var(--primary-color); }
        .border-gold { border-color: var(--primary-color); }
        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
        .transition-all { transition: all 0.3s ease; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        
        /* Custom scrollbar for admin list */
        .admin-scroll::-webkit-scrollbar { width: 4px; }
        .admin-scroll::-webkit-scrollbar-track { background: #f1f1f1; }
        .admin-scroll::-webkit-scrollbar-thumb { background: #ccc; border-radius: 10px; }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "lucide-react": "https://esm.sh/lucide-react@0.263.1",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react-router-dom": "https://esm.sh/react-router-dom@^7.13.0"
  }
}
</script>
</head>
<body class="bg-white text-gray-900">
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect, useMemo } from 'react';
        import ReactDOM from 'react-dom';
        import * as Lucide from 'lucide-react';

        const { 
            Menu, X, Settings, ChevronRight, Phone, Mail, MapPin, 
            Plus, Trash2, Edit2, Eye, EyeOff, Save, RefreshCw, 
            Layout, BarChart, ArrowLeft, LogOut, Ruler, ShieldCheck, 
            Settings2, Calendar, ArrowUpRight, MessageSquare 
        } = Lucide;

        // --- Constants & Initial State ---
        const INITIAL_STATE = {
            config: {
                siteName: '성부금속 (Sungboo Metal)',
                tagline: '철의 견고함에 예술적 가치를 더합니다.',
                primaryColor: '#D4AF37',
                contactEmail: 'sungboo1211@naver.com',
                contactPhone: '010-2243-0481',
                address: '경기 고양시 덕양구 보광로 179-18'
            },
            posts: [
                {
                    id: '1',
                    title: '강남 단독주택 모던 철제 계단 시공',
                    category: '계단',
                    content: '슬림한 철제 프레임과 강화유리 난간으로 개방감을 극대화한 현장입니다.',
                    imageUrl: 'images/project1.jpg',
                    date: '2024-03-24',
                    isPublished: true
                },
                {
                    id: '2',
                    title: '평택 물류창고 대형 복층 구조물',
                    category: '복층공사',
                    content: 'H빔 구조를 활용한 정밀 설계로 공간 활용도를 높였습니다.',
                    imageUrl: 'images/project2.jpg',
                    date: '2024-03-20',
                    isPublished: true
                },
                {
                    id: '3',
                    title: '성수동 카페 루프탑 난간 시공',
                    category: '난간',
                    content: '다크 그레이 분체 도장으로 세련미를 더한 안전 난간입니다.',
                    imageUrl: 'images/project3.jpg',
                    date: '2024-03-15',
                    isPublished: true
                }
            ]
        };

        // --- App Component ---
        const App = () => {
            const [state, setState] = useState(() => {
                const saved = localStorage.getItem('sungboo_metal_v2');
                return saved ? JSON.parse(saved) : INITIAL_STATE;
            });
            const [view, setView] = useState('home'); // 'home' or 'admin'
            const [adminTab, setAdminTab] = useState('theme'); // 'theme' or 'posts'
            const [activeCategory, setActiveCategory] = useState('전체');
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [editingPost, setEditingPost] = useState(null);

            useEffect(() => {
                localStorage.setItem('sungboo_metal_v2', JSON.stringify(state));
                document.documentElement.style.setProperty('--primary-color', state.config.primaryColor);
            }, [state]);

            const scrollTo = (id) => {
                const el = document.getElementById(id);
                if (el) {
                    window.scrollTo({ top: el.offsetTop - 80, behavior: 'smooth' });
                    setIsMenuOpen(false);
                }
            };

            // --- Handlers ---
            const updateConfig = (key, value) => {
                setState(prev => ({ ...prev, config: { ...prev.config, [key]: value } }));
            };

            const savePost = (post) => {
                if (post.id) {
                    setState(prev => ({
                        ...prev,
                        posts: prev.posts.map(p => p.id === post.id ? post : p)
                    }));
                } else {
                    setState(prev => ({
                        ...prev,
                        posts: [{ ...post, id: Date.now().toString(), date: new Date().toISOString().split('T')[0] }, ...prev.posts]
                    }));
                }
                setEditingPost(null);
            };

            const deletePost = (id) => {
                if(confirm('삭제하시겠습니까?')) {
                    setState(prev => ({ ...prev, posts: prev.posts.filter(p => p.id !== id) }));
                }
            };

            const filteredPosts = useMemo(() => {
                return state.posts.filter(p => p.isPublished && (activeCategory === '전체' || p.category === activeCategory));
            }, [state.posts, activeCategory]);

            // --- Home View ---
            if (view === 'home') {
                return (
                    <div className="relative">
                        {/* Navigation */}
                        <nav className="fixed w-full z-50 border-b border-gray-100 glass-nav h-20 flex items-center">
                            <div className="max-w-7xl mx-auto px-4 w-full flex justify-between items-center">
                                <a href="#" className="h-10 md:h-12"><img src="images/성부금속로고.png" alt="Logo" className="h-full" /></a>
                                <div className="hidden md:flex items-center space-x-8">
                                    <button onClick={() => scrollTo('services')} className="text-sm font-medium hover:text-gold">서비스</button>
                                    <button onClick={() => scrollTo('portfolio')} className="text-sm font-medium hover:text-gold">시공사례</button>
                                    <button onClick={() => scrollTo('contact')} className="text-sm font-medium hover:text-gold">문의하기</button>
                                    <button onClick={() => setView('admin')} className="flex items-center gap-2 px-5 py-2 rounded-full text-white text-sm bg-gold shadow-md hover:opacity-90">
                                        <Settings size={16} /> 관리자 설정
                                    </button>
                                </div>
                                <button className="md:hidden" onClick={() => setIsMenuOpen(!isMenuOpen)}>
                                    {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
                                </button>
                            </div>
                        </nav>

                        {/* Mobile Menu */}
                        {isMenuOpen && (
                            <div className="fixed inset-0 z-40 bg-white pt-24 px-6 md:hidden">
                                <div className="flex flex-col space-y-6 text-xl font-bold">
                                    <button onClick={() => scrollTo('services')}>서비스</button>
                                    <button onClick={() => scrollTo('portfolio')}>시공사례</button>
                                    <button onClick={() => scrollTo('contact')}>문의하기</button>
                                    <button onClick={() => { setView('admin'); setIsMenuOpen(false); }} className="text-gold">관리자 설정</button>
                                </div>
                            </div>
                        )}

                        {/* Hero */}
                        <section className="h-screen flex items-center relative overflow-hidden bg-gray-900">
                            <img src="images/메인.jpg" className="absolute inset-0 w-full h-full object-cover opacity-60" />
                            <div className="absolute inset-0 bg-gradient-to-r from-black via-black/40 to-transparent"></div>
                            <div className="max-w-7xl mx-auto px-4 relative z-10 w-full">
                                <h1 className="text-5xl md:text-8xl font-extralight text-white leading-tight mb-6">
                                    공간을 잇는 <br/>
                                    <span className="font-bold text-gold">{state.config.siteName.split(' ')[0]}</span>
                                </h1>
                                <p className="text-xl text-gray-300 mb-10 max-w-xl">{state.config.tagline}</p>
                                <div className="flex gap-4">
                                    <button onClick={() => scrollTo('portfolio')} className="px-8 py-4 bg-white text-black font-bold rounded-full hover:bg-gray-100">시공 사례 보기</button>
                                    <button onClick={() => scrollTo('contact')} className="px-8 py-4 border-2 border-gold text-gold font-bold rounded-full hover:bg-gold/10">견적 문의</button>
                                </div>
                            </div>
                        </section>

                        {/* Services */}
                        <section id="services" className="py-32 bg-white">
                            <div className="max-w-7xl mx-auto px-4">
                                <h2 className="text-4xl font-black mb-16 uppercase tracking-tighter">OUR SERVICES</h2>
                                <div className="grid md:grid-cols-3 gap-8">
                                    {[
                                        { title: '공간 맞춤 설계', icon: <Ruler/>, img: 'images/설계.jpg', desc: '현장 실측 데이터를 기반으로 CAD 도면 설계를 진행합니다.' },
                                        { title: '안전한 구조', icon: <ShieldCheck/>, img: 'images/안전한 구조.jpg', desc: '철저한 하중 설계와 정밀 용접으로 최고의 안전을 보장합니다.' },
                                        { title: '사후 관리 지원', icon: <Settings2/>, img: 'images/관리.jpg', desc: '시공 후에도 책임감 있는 유지보수 서비스를 제공합니다.' }
                                    ].map((s, i) => (
                                        <div key={i} className="group relative h-[500px] rounded-[2.5rem] overflow-hidden shadow-2xl">
                                            <img src={s.img} className="absolute inset-0 w-full h-full object-cover transition-transform group-hover:scale-110" />
                                            <div className="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"></div>
                                            <div className="absolute inset-0 p-10 flex flex-col justify-end text-white">
                                                <div className="text-gold mb-4">{s.icon}</div>
                                                <h3 className="text-2xl font-bold mb-2">{s.title}</h3>
                                                <p className="text-gray-300 font-light">{s.desc}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>

                        {/* Projects */}
                        <section id="portfolio" className="py-32 bg-gray-50">
                            <div className="max-w-7xl mx-auto px-4">
                                <div className="flex flex-col md:flex-row justify-between items-center mb-16 gap-6">
                                    <h2 className="text-4xl font-black uppercase tracking-tighter">PROJECTS</h2>
                                    <div className="flex flex-wrap gap-2">
                                        {['전체', '계단', '난간', '복층공사', '철구조물'].map(c => (
                                            <button 
                                                key={c} 
                                                onClick={() => setActiveCategory(c)}
                                                className={`px-6 py-2 rounded-full text-sm font-bold border transition-all ${activeCategory === c ? 'bg-gold text-white border-transparent shadow-lg' : 'bg-white text-gray-400 border-gray-200'}`}
                                            >
                                                {c}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-12">
                                    {filteredPosts.map(post => (
                                        <div key={post.id} className="group cursor-pointer">
                                            <div className="aspect-[4/3] rounded-[2rem] overflow-hidden mb-6 shadow-lg bg-gray-200">
                                                <img src={post.imageUrl} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
                                            </div>
                                            <div className="px-2">
                                                <div className="text-gold text-xs font-bold mb-2 flex items-center gap-2"><Calendar size={14}/> {post.date}</div>
                                                <h3 className="text-2xl font-bold mb-3 group-hover:text-gold transition-colors">{post.title}</h3>
                                                <p className="text-gray-500 font-light line-clamp-2">{post.content}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>

                        {/* Contact */}
                        <section id="contact" className="py-32 bg-white">
                            <div className="max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-20">
                                <div>
                                    <h2 className="text-5xl font-black mb-12 uppercase">CONTACT US</h2>
                                    <div className="space-y-8">
                                        <div className="flex items-center gap-6">
                                            <div className="w-16 h-16 rounded-2xl bg-gray-50 flex items-center justify-center text-gold shadow-sm"><Phone/></div>
                                            <div><p className="text-gray-400 text-xs font-bold uppercase">Call Us</p><p className="text-2xl font-bold">{state.config.contactPhone}</p></div>
                                        </div>
                                        <div className="flex items-center gap-6">
                                            <div className="w-16 h-16 rounded-2xl bg-gray-50 flex items-center justify-center text-gold shadow-sm"><Mail/></div>
                                            <div><p className="text-gray-400 text-xs font-bold uppercase">Email</p><p className="text-2xl font-bold">{state.config.contactEmail}</p></div>
                                        </div>
                                        <div className="flex items-center gap-6">
                                            <div className="w-16 h-16 rounded-2xl bg-gray-50 flex items-center justify-center text-gold shadow-sm"><MapPin/></div>
                                            <div><p className="text-gray-400 text-xs font-bold uppercase">Address</p><p className="text-2xl font-bold">{state.config.address}</p></div>
                                        </div>
                                    </div>
                                </div>
                                <div className="bg-white p-10 rounded-[3rem] border border-gray-100 shadow-2xl">
                                    <form className="space-y-6">
                                        <div className="grid md:grid-cols-2 gap-6">
                                            <input placeholder="성함" className="w-full p-4 bg-gray-50 rounded-xl border outline-none focus:border-gold" />
                                            <input placeholder="연락처" className="w-full p-4 bg-gray-50 rounded-xl border outline-none focus:border-gold" />
                                        </div>
                                        <select className="w-full p-4 bg-gray-50 rounded-xl border outline-none focus:border-gold">
                                            <option>문의 유형 선택</option>
                                            <option>철계단</option>
                                            <option>난간</option>
                                            <option>기타</option>
                                        </select>
                                        <textarea placeholder="문의 내용" rows="4" className="w-full p-4 bg-gray-50 rounded-xl border outline-none focus:border-gold"></textarea>
                                        <button className="w-full py-5 bg-gold text-white font-bold text-lg rounded-xl shadow-xl hover:opacity-90">견적 신청하기</button>
                                    </form>
                                </div>
                            </div>
                        </section>

                        {/* Footer */}
                        <footer className="py-20 bg-gray-50 border-t">
                            <div className="max-w-7xl mx-auto px-4 text-center">
                                <h3 className="text-2xl font-black mb-6 uppercase">SUNGBOO <span className="text-gold">METAL</span></h3>
                                <p className="text-gray-500 mb-8 max-w-lg mx-auto">철제 구조물 제작 전문 기업으로 완벽한 시공과 책임 있는 사후 관리를 약속합니다.</p>
                                <div className="pt-10 border-t text-[10px] text-gray-300 font-bold tracking-widest">© 2015 SUNGBOO METAL. ALL RIGHTS RESERVED.</div>
                            </div>
                        </footer>
                    </div>
                );
            }

            // --- Admin View ---
            return (
                <div className="min-h-screen bg-gray-100 flex">
                    {/* Sidebar */}
                    <div className="w-64 bg-gray-900 text-white p-8 flex flex-col justify-between fixed h-full">
                        <div>
                            <div className="flex items-center gap-3 mb-12">
                                <img src="images/성부금속로고.png" className="h-8 bg-white p-1 rounded" />
                                <span className="font-black text-lg">ADMIN</span>
                            </div>
                            <nav className="space-y-2">
                                <button onClick={() => setAdminTab('theme')} className={`w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 transition-all ${adminTab === 'theme' ? 'bg-gold text-white shadow-lg' : 'text-gray-400 hover:bg-gray-800'}`}>
                                    <Layout size={18}/> 테마 설정
                                </button>
                                <button onClick={() => setAdminTab('posts')} className={`w-full text-left px-4 py-3 rounded-xl flex items-center gap-3 transition-all ${adminTab === 'posts' ? 'bg-gold text-white shadow-lg' : 'text-gray-400 hover:bg-gray-800'}`}>
                                    <Settings2 size={18}/> 포트폴리오
                                </button>
                            </nav>
                        </div>
                        <div className="space-y-4">
                            <button onClick={() => setView('home')} className="flex items-center gap-2 text-gray-400 hover:text-white text-sm">
                                <ArrowLeft size={16}/> 홈으로 돌아가기
                            </button>
                        </div>
                    </div>

                    {/* Content */}
                    <div className="ml-64 p-12 w-full">
                        <div className="max-w-4xl mx-auto">
                            <header className="mb-10 flex justify-between items-center">
                                <div>
                                    <h1 className="text-3xl font-black">{adminTab === 'theme' ? '디자인 및 설정' : '포트폴리오 관리'}</h1>
                                    <p className="text-gray-500">사이트의 모든 요소를 실시간으로 제어합니다.</p>
                                </div>
                                {adminTab === 'posts' && (
                                    <button onClick={() => setEditingPost({ title: '', category: '계단', content: '', imageUrl: '', isPublished: true })} className="bg-black text-white px-6 py-2 rounded-full font-bold flex items-center gap-2">
                                        <Plus size={18}/> 추가
                                    </button>
                                )}
                            </header>

                            <div className="bg-white rounded-3xl p-8 shadow-sm border">
                                {adminTab === 'theme' ? (
                                    <div className="space-y-8">
                                        <div className="grid grid-cols-2 gap-6">
                                            <div className="space-y-4">
                                                <label className="block text-sm font-bold text-gray-700">사이트 이름</label>
                                                <input value={state.config.siteName} onChange={e => updateConfig('siteName', e.target.value)} className="w-full p-3 bg-gray-50 rounded-xl border outline-none" />
                                                <label className="block text-sm font-bold text-gray-700">슬로건</label>
                                                <input value={state.config.tagline} onChange={e => updateConfig('tagline', e.target.value)} className="w-full p-3 bg-gray-50 rounded-xl border outline-none" />
                                            </div>
                                            <div className="space-y-4">
                                                <label className="block text-sm font-bold text-gray-700">강조 컬러</label>
                                                <div className="flex gap-4">
                                                    <input type="color" value={state.config.primaryColor} onChange={e => updateConfig('primaryColor', e.target.value)} className="h-12 w-20 rounded cursor-pointer" />
                                                    <input value={state.config.primaryColor} onChange={e => updateConfig('primaryColor', e.target.value)} className="flex-1 p-3 bg-gray-50 rounded-xl border uppercase" />
                                                </div>
                                            </div>
                                        </div>
                                        <hr/>
                                        <div className="grid grid-cols-2 gap-6">
                                            <div className="space-y-4">
                                                <label className="block text-sm font-bold text-gray-700">대표 번호</label>
                                                <input value={state.config.contactPhone} onChange={e => updateConfig('contactPhone', e.target.value)} className="w-full p-3 bg-gray-50 rounded-xl border" />
                                            </div>
                                            <div className="space-y-4">
                                                <label className="block text-sm font-bold text-gray-700">대표 이메일</label>
                                                <input value={state.config.contactEmail} onChange={e => updateConfig('contactEmail', e.target.value)} className="w-full p-3 bg-gray-50 rounded-xl border" />
                                            </div>
                                        </div>
                                    </div>
                                ) : (
                                    <div className="space-y-4 admin-scroll overflow-y-auto max-h-[60vh]">
                                        {state.posts.map(post => (
                                            <div key={post.id} className="flex items-center justify-between p-4 bg-gray-50 rounded-2xl border">
                                                <div className="flex items-center gap-4">
                                                    <img src={post.imageUrl} className="w-16 h-16 object-cover rounded-xl" alt="" />
                                                    <div>
                                                        <p className="font-bold">{post.title}</p>
                                                        <p className="text-xs text-gray-400">{post.category} • {post.date}</p>
                                                    </div>
                                                </div>
                                                <div className="flex gap-2">
                                                    <button onClick={() => savePost({...post, isPublished: !post.isPublished})} className="p-2 hover:bg-white rounded-lg transition-colors">
                                                        {post.isPublished ? <Eye size={18} className="text-blue-500" /> : <EyeOff size={18} className="text-gray-400" />}
                                                    </button>
                                                    <button onClick={() => setEditingPost(post)} className="p-2 hover:bg-white rounded-lg text-gray-600"><Edit2 size={18}/></button>
                                                    <button onClick={() => deletePost(post.id)} className="p-2 hover:bg-white rounded-lg text-red-400"><Trash2 size={18}/></button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>

                    {/* Post Editor Modal */}
                    {editingPost && (
                        <div className="fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-6">
                            <div className="bg-white rounded-[2.5rem] w-full max-w-xl p-10 shadow-2xl space-y-6">
                                <h3 className="text-2xl font-black">{editingPost.id ? '게시물 수정' : '새 게시물 작성'}</h3>
                                <div className="space-y-4">
                                    <input placeholder="제목" value={editingPost.title} onChange={e => setEditingPost({...editingPost, title: e.target.value})} className="w-full p-4 bg-gray-50 rounded-2xl border outline-none focus:border-gold" />
                                    <div className="grid grid-cols-2 gap-4">
                                        <select value={editingPost.category} onChange={e => setEditingPost({...editingPost, category: e.target.value})} className="w-full p-4 bg-gray-50 rounded-2xl border outline-none">
                                            {['계단', '난간', '복층공사', '철구조물'].map(c => <option key={c} value={c}>{c}</option>)}
                                        </select>
                                        <input placeholder="이미지 경로 (images/...)" value={editingPost.imageUrl} onChange={e => setEditingPost({...editingPost, imageUrl: e.target.value})} className="w-full p-4 bg-gray-50 rounded-2xl border outline-none" />
                                    </div>
                                    <textarea placeholder="설명" rows="4" value={editingPost.content} onChange={e => setEditingPost({...editingPost, content: e.target.value})} className="w-full p-4 bg-gray-50 rounded-2xl border outline-none"></textarea>
                                </div>
                                <div className="flex gap-4">
                                    <button onClick={() => setEditingPost(null)} className="flex-1 py-4 bg-gray-100 rounded-2xl font-bold">취소</button>
                                    <button onClick={() => savePost(editingPost)} className="flex-1 py-4 bg-gold text-white rounded-2xl font-bold shadow-lg shadow-gold/30">저장하기</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>